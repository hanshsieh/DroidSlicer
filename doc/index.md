DroidSlicer is a static analysis tool to discover sensitive behaviors in an Android app. We define a sensitive behavior to be access and usage of sensitive data. The sensitive data we take into consideration include permission protected data and data from the file system.

For the detail introduction of the system, please see the paper. Here, we only cover the overview of the system, and how to use this tool.

# System Overview #

This tool is written in pure Java, and it should be able to run on any platform with JRE.
This system have several entry points. You may choose the entry point that fit your need.

## Entry Point: DroidSlicer ##

It is the main entry point of the tool, and GUI is provided.  

- class: org.droidslicer.DroidSlicer  
- arguments: [-app <apk>]  

The optional argument "-app" allow you to start the GUI and directly analyze an app immediately.  
If no argument is specified, you may start the analysis by the manipulation of the GUI.

Currently, the GUI is very simple.  
![gui interface]  
The top panel is used to show the sensitive behavior graph.  
The bottom panel is used to show the properties of the selected node.
There's another panel hidden by default, and is used to show the log message. Click the "Log" tab at the bottom to show it.  
You can drag-and-drop the panels to change the layout.

To start analyzing an app, use "File" > "Open an APK...".  
After the analysis finishes, sensitive behaivor graph will be shown, and you can click on a node to see the properties of the node.

## Project Structure ##
libs:  
Dependent library files that we failed to find the appropriate online repositories.  

libs/android4me.AXMLPrinter2:  
The library used to parse the binary **Manifest.xml**.  

libs/att.grappa:  
The library used to parse a DOT file.  

libs/com.mxgraph.jgraphx:  
The library used to visualize the sensitive behavior graph.  

libs/heros:  
The library used to do IFDS. We currently decided not to use this library, and use the implementation of IFDS in [Wala] instead.  

libs/org.jgrapht:  
The library used to main the graph structure.  

libs/wala:  
The library used for call graph construction, pointer analysis, IFDS, etc.
src: Source code.  

data:  
Configuration files, Android library files, auxiliary data, etc.

data/images:  
The image files for this document.  

data/android:  
Android library files, and configuration files that are dependent on the Android library version. For each Android API version, there's a directory **apiXXX**.  

data/android/apiXXX/libs:  
Android Library files. All the *.jar files in this directory will be loaded as library files in lexicalgraphical order of the file names. The classes in the latter ones will overwrite the classes in the former ones.  

data/android/apiXXX/pscout:  
The files generated by [PScout]. These files aren't used during analysis, but our tool has some entry points for parsing these files into the format accepted by our system.

# Compile #
This tool is provided as an [eclipse] project.  

The dependencies are maintained using [gradle], and the configuration of gradle is in file build.gradle.  
You may compile the code using [gradle], or [eclipse].  
If you just want to use the tool, instead of development, using [gradle] is recommanded, since we have written some simple scripts for exporting and archiving.  

To compile the code using [eclpse], just import the project into [eclipse], and [eclipse] will automatically compile the code for you.  

We will illustrate how to compile and export the project using [gradle].

We assume that **gradle** is in your **PATH**.  
If not, you may also use the helper script.  
On Windows, use **gradlew.bat**. On Linux, use **gradlew**.  

To just compile the code, use the following command.  

    gradle jar

The compiled class files will be put into directory **build/classes**.  
The jar file will be put into directory **build/libs**.  

To generate the HTML of this document, use the following command.  

    gradle exportDoc

The generated HTML document will be put into directory **build/export/doc**. 

To generate the javadoc, use the following command.

    gradle exportJavadoc

The generated javadoc will be put into **build/export/doc/apidoc**.

To export all the jar file, configuration files, and document files, etc., use the following command.

    gradle export

The generated files will be put into directory **build/export**. 

# Update for Eclipse #
If you have changed the file build.gradle, you may update the project configuration (e.g. classpath) for the [eclipse] project by running the following command:  

    gradle eclipse


# Document #
## Javadoc ##
See [here](apidoc/index.html)

[Wala]:http://wala.sourceforge.net
[gui interface]:images/gui.jpg
[PScout]:http://pscout.csl.toronto.edu
[gradle]:http://www.gradle.org
[eclipse]:https://www.eclipse.org
